window.__require=function t(e,o,r){function n(i,a){if(!o[i]){if(!e[i]){var p=i.split("/");if(p=p[p.length-1],!e[p]){var s="function"==typeof __require&&__require;if(!a&&s)return s(p,!0);if(c)return c(p,!0);throw new Error("Cannot find module '"+i+"'")}i=p}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){return n(e[i][1][t]||t)},l,l.exports,t,e,o,r)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<r.length;i++)n(r[i]);return n}({Egg:[function(t,e,o){"use strict";cc._RF.push(e,"d5f36RLiglPGLmBkBk+PlkM","Egg");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pickRadius=1,e}return r(e,t),e.prototype.getPlayerDistance=function(){return 0},e.prototype.onCollisionEnter=function(t,e){},e.prototype.onCollisionExit=function(t,e){},e.prototype.onPicked=function(){this.node.getParent(),this.node.destroy},e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.getPlayerDistance()<this.pickRadius?this.onPicked():cc.scaleBy(2,2)},n([a],e.prototype,"pickRadius",void 0),e=n([i],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"c3b83DeklNMxb5R9ZDm1tU+","Game");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noPlayers=0,e.server=null,e.player=null,e.timeLimit=0,e.map=null,e.ground=null,e.terrain=null,e.objects=null,e.scoreDisplay=null,e.ColliderPreName=null,e.playerTile=null,e.score=0,e.currentEggs=0,e.timer=0,e.timerDisplay=null,e}return r(e,t),e.prototype.onLoad=function(){this.initMap(),this.setTimer(),console.log("Array of egg pos:"+this.eggPositionMap()),console.log("Player Score: "+this.player.getComponent("Player").getScore()),console.log("Player Score: "+this.player.getComponent("score"))},e.prototype.getRemotePlayer=function(){for(var t=[],e=0;e<3;e++){var o=this.server.getChildByName("remotePlayer_"+e);t.push(o)}return t},e.prototype.autoCollectEgg=function(t){t.x+=2;for(var e=this.eggPositionMap().length,o=this.eggPositionMap(),r=0;r<e;r++)t.x<o[r].x&&(t.x+=2)},e.prototype.eggPositionMap=function(){for(var t=[],e=0;e<6;e++){var o=this.server.getChildByName("egg_"+e).getPosition();t.push(o)}return t},e.prototype.initMap=function(){this.map.getObjectGroup("objects").getObject("player_area");var t=this.map.getObjectGroup("wall");console.log("Map Wall +"+t.getObject("1"))},e.prototype.getTilePos=function(t){this.node.getContentSize;var e=this.map.getTileSize(),o=Math.floor(t.x/e.width),r=Math.floor(t.y/e.height);return new cc.Vec2(o,r)},e.prototype.sendGameState=function(){},e.prototype.updateScore=function(){this.score+=1,this.scoreDisplay.string="Score: "+this.player.getComponent("Player").getScore()},e.prototype.start=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.gameOver=function(){this.player.stopAllActions(),cc.director.loadScene("gameover")},e.prototype.setTimer=function(){this.schedule(function(){this.timer-=1},1)},e.prototype.update=function(t){cc.director.getScene&&0==this.timer?this.gameOver():(this.timerDisplay.string="Time Left "+this.timer,this.updateScore(),this.sendGameState())},n([a],e.prototype,"noPlayers",void 0),n([a(cc.Node)],e.prototype,"server",void 0),n([a(cc.Node)],e.prototype,"player",void 0),n([a],e.prototype,"timeLimit",void 0),n([a(cc.TiledMap)],e.prototype,"map",void 0),n([a(cc.TiledLayer)],e.prototype,"ground",void 0),n([a(cc.TiledLayer)],e.prototype,"terrain",void 0),n([a(cc.TiledObjectGroup)],e.prototype,"objects",void 0),n([a(cc.Label)],e.prototype,"scoreDisplay",void 0),n([a(cc.Prefab)],e.prototype,"ColliderPreName",void 0),n([a],e.prototype,"timer",void 0),n([a(cc.Label)],e.prototype,"timerDisplay",void 0),e=n([i],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Map:[function(t,e,o){"use strict";cc._RF.push(e,"b166dsfHwVLDK2fHYius5ab","Map");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),n([a(cc.Label)],e.prototype,"label",void 0),n([a],e.prototype,"text",void 0),e=n([i],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"3c1a3gDemtOor0aYOhUl4Ue","Player");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxMoveSpeed=0,e.anim=null,e.movLeft=!1,e.movRight=!1,e.movUp=!1,e.movDown=!1,e.xSpeed=0,e.ySpeed=0,e.score=0,e.accel=0,e}return r(e,t),e.prototype.onLoad=function(){this.movLeft=!1,this.movRight=!1,this.movUp=!1,this.movDown=!1,this.score=0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.left:this.loadAnimation("L"),this.movLeft=!0;break;case cc.macro.KEY.right:this.movRight=!0,this.loadAnimation("R");break;case cc.macro.KEY.up:this.movUp=!0,this.loadAnimation("U");break;case cc.macro.KEY.down:this.movDown=!0,this.loadAnimation("D")}},e.prototype.onKeyUp=function(t){switch(this.getComponent(cc.Animation).play("player_idle"),t.keyCode){case cc.macro.KEY.left:this.movLeft=!1;break;case cc.macro.KEY.right:this.movRight=!1;break;case cc.macro.KEY.up:this.movUp=!1;break;case cc.macro.KEY.down:this.movDown=!1}},e.prototype.start=function(){},e.prototype.loadAnimation=function(t){switch(t){case"U":this.getComponent(cc.Animation).play("player_up");break;case"D":case"L":case"R":this.getComponent(cc.Animation).play("player_run")}},e.prototype.collEggs=function(t,e){t.node.removeFromParent(),this.node.getParent().getComponent("Server").currentEggs-=1,this.score+=1},e.prototype.getScore=function(){return this.score},e.prototype.hitWall=function(t,e){console.log("Hit Wall")},e.prototype.onCollisionEnter=function(t,e){switch(t.tag){case 0:this.collEggs(t,e);break;case 1:this.hitWall(t,e)}},e.prototype.update=function(t){430!==this.node.y&&this.movUp&&(this.node.y+=2),this.movDown&&(this.node.y-=2),this.movLeft&&(this.node.scaleX=-Math.abs(this.node.scaleX),this.node.x-=2),this.movRight&&(this.node.scaleX=Math.abs(this.node.scaleX),this.node.x+=2)},n([a()],e.prototype,"maxMoveSpeed",void 0),n([a(cc.Animation)],e.prototype,"anim",void 0),n([a()],e.prototype,"accel",void 0),e=n([i],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],RemotePlayer:[function(t,e,o){"use strict";cc._RF.push(e,"a1c32obj9ZDgbi4FW47gLXN","RemotePlayer");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.difficulty=0,e.speed=0,e.score=0,e}return r(e,t),e.prototype.collectEgg=function(){this.score+=1},e.prototype.onLoad=function(){this.score=0},e.prototype.loadAnimation=function(t,e){var o=this.getComponent(cc.Animation);if("blue"==e)switch(t){case"U":o.play("blue_player_up");break;case"D":case"L":case"R":o.play("blue_player_run")}if("pink"==e)switch(t){case"U":o.play("pink_player_up");break;case"D":case"L":case"R":o.play("pink_player_run")}},e.prototype.start=function(){},e.prototype.update=function(t){},n([a],e.prototype,"difficulty",void 0),n([a],e.prototype,"speed",void 0),e=n([i],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Server:[function(t,e,o){"use strict";cc._RF.push(e,"07019X1d8ZOiIbt6ketzMA1","Server");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blueEggPrefab=null,e.redEggPrefab=null,e.chocoEggPrefab=null,e.bluePlayerPrefab=null,e.pinkPlayerPrefab=null,e.ground=null,e.player=null,e.scoreDisplay=null,e.timer=0,e.playerScore=0,e.maxEgg=0,e.noPlayers=0,e.game=null,e.hello="HI! IAM SERVER!",e.currentEggs=0,e.currentPlayers=0,e}return r(e,t),e.prototype.onLoad=function(){this.noPlayers=3;for(var t=0;t<this.maxEgg;t++)this.genNewEgg(),1;for(t=0;t<this.noPlayers;t++)this.genNewPlayer()},e.prototype.updateGameState=function(){this.game.getComponent("Game").sendGameState()},e.prototype.randEggColor=function(t){var e;switch(t){case"cho":e=cc.instantiate(this.chocoEggPrefab);break;case"blue":e=cc.instantiate(this.blueEggPrefab);break;case"red":e=cc.instantiate(this.redEggPrefab)}return e},e.prototype.genNewEgg=function(){var t=["cho","blue","red"],e=t[Math.floor(Math.random()*t.length)],o=this.randEggColor(e);o.name="egg_"+this.currentEggs,o.setPosition(this.getRandomPosition()),this.node.addChild(o),this.currentEggs+=1},e.prototype.randPlayerColor=function(t){var e;switch(t){case"blue":e=cc.instantiate(this.bluePlayerPrefab);break;case"pink":e=cc.instantiate(this.pinkPlayerPrefab)}return e},e.prototype.genNewPlayer=function(){var t=["blue","pink"],e=t[Math.floor(Math.random()*t.length)],o=this.randPlayerColor(e);o.name="remotePlayer_"+this.currentPlayers,o.setPosition(this.getRandomPosition()),this.node.addChild(o),this.currentPlayers+=1},e.prototype.getRandomPosition=function(){var t,e;return t=Math.random()*Math.floor(448),e=Math.random()*Math.floor(288),cc.v2(t,e)},e.prototype.sendUpdate=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.currentEggs<this.maxEgg&&this.genNewEgg()},n([a(cc.Prefab)],e.prototype,"blueEggPrefab",void 0),n([a(cc.Prefab)],e.prototype,"redEggPrefab",void 0),n([a(cc.Prefab)],e.prototype,"chocoEggPrefab",void 0),n([a(cc.Prefab)],e.prototype,"bluePlayerPrefab",void 0),n([a(cc.Prefab)],e.prototype,"pinkPlayerPrefab",void 0),n([a(cc.Node)],e.prototype,"ground",void 0),n([a(cc.Node)],e.prototype,"player",void 0),n([a(cc.Label)],e.prototype,"scoreDisplay",void 0),n([a],e.prototype,"timer",void 0),n([a],e.prototype,"playerScore",void 0),n([a],e.prototype,"maxEgg",void 0),n([a],e.prototype,"noPlayers",void 0),n([a(cc.Node)],e.prototype,"game",void 0),e=n([i],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,o){"use strict";cc._RF.push(e,"ed277kLng5NEYkuHrrNyqDE","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["Egg","Game","Map","Player","RemotePlayer","Server","use_v2.1-2.2.1_cc.Toggle_event"]);